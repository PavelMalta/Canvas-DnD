{"version":3,"sources":["ui/components/figuresField/FiguresField.module.css","bll/figures-reducer.ts","ui/components/figuresField/figure/Figure.tsx","ui/components/figuresField/FiguresField.tsx","ui/components/canvasField/canvas/Canvas.tsx","ui/components/canvasField/CanvasField.tsx","ui/App.tsx","reportWebVitals.ts","bll/store.ts","bll/utils/localStorage-utils.ts","index.tsx","ui/components/canvasField/CanvasField.module.css","ui/App.module.css"],"names":["module","exports","circleStyle","width","height","backgroundColor","borderRadius","margin","border","initialState","figures","id","isCanvas","style","draggableFigureId","copyStatus","canvasFigures","chooseFigure","changeCopyStatusAC","status","type","chooseFigureAC","figure","Figure","figureData","startDragging","draggable","display","flexDirection","onDragStart","FiguresField","useSelector","state","dispatch","useDispatch","figureId","dragStartedAC","className","s","figuresField","onDragOver","e","preventDefault","onDrop","map","item","Canvas","figureWidth","figureHeight","canvasRef","useRef","useState","mouseDown","setMouseDown","useEffect","ctx","current","getContext","clearRect","beginPath","forEach","drawFigure","lineWidth","strokeStyle","fillStyle","fillRect","x","y","strokeRect","stroke","ellipse","Math","PI","fill","canvasContainer","ref","onMouseDown","stopPropagation","pageX","offsetLeft","pageY","offsetTop","isCursorOnAnyFigure","cursorInFigure","onMouseUp","onMouseMove","addFigureAC","CanvasField","canvasField","App","app","fieldsContainer","buttonContainer","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","draggableFigure","find","i","newCanvasFigure","v1","filter","store","createStore","serializedState","localStorage","getItem","JSON","parse","err","loadState","subscribe","stringify","setItem","saveState","getState","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2490c0c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"figuresField\":\"FiguresField_figuresField__dxe6A\"};","import { v1 } from \"uuid\"\r\n\r\nexport const circleStyle = {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    backgroundColor: \"blue\",\r\n    borderRadius: \"50%\",\r\n    margin: \"30px\",\r\n    border: \"1px solid black\"\r\n}\r\n\r\nexport const squareStyle = {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    backgroundColor: \"green\",\r\n    margin: \"30px\",\r\n    border: \"1px solid black\"\r\n}\r\nconst figures = [{id: \"1\", isCanvas: false, style: circleStyle}, {id: \"2\", isCanvas: false, style: squareStyle}]\r\n\r\nconst initialState = {\r\n    figures: figures,\r\n    draggableFigureId: \"\",\r\n    copyStatus: true,\r\n    canvasFigures: [] as Array<CanvasFigureType>,\r\n    chooseFigure: {} as CanvasFigureType\r\n}\r\n\r\nexport const figuresReducer = (state: InitialStateType = initialState, action: ActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"DRAG-STARTED\" :\r\n            return {...state, draggableFigureId: action.figureId}\r\n        case \"CHANGE-CANVAS-STATUS\" :\r\n            return {...state, figures: state.figures.map(item => item.id === state.draggableFigureId ? {...item, isCanvas: true} : item)}\r\n        case \"CHANGE-COPY-STATUS\" :\r\n            return {...state, copyStatus: action.status}\r\n        case \"ADD-FIGURE\" :\r\n            let draggableFigure = state.figures.find(i => i.id === state.draggableFigureId) as FigureType\r\n            let newCanvasFigure = {x: action.x, y: action.y, type: draggableFigure.style === circleStyle ? 'circle' : 'square',id: v1()}\r\n            return {...state, canvasFigures: [...state.canvasFigures, newCanvasFigure]}\r\n        case \"CHOOSE-FIGURE\" :\r\n            return {...state, chooseFigure: action.figure}\r\n        case \"DELETE-FIGURE\" :\r\n            return {...state, canvasFigures: state.canvasFigures.filter(i => i.id !== state.chooseFigure.id), chooseFigure: {} as CanvasFigureType}\r\n        case \"SET-FIGURES\" :\r\n            return {...state, canvasFigures: action.figures}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//Actions\r\nexport const dragStartedAC = (figureId: string) => ({type: \"DRAG-STARTED\", figureId} as const)\r\nexport const changeCanvasStatusAC = () => ({type: \"CHANGE-CANVAS-STATUS\"} as const)\r\nexport const changeCopyStatusAC = (status: boolean) => ({type: \"CHANGE-COPY-STATUS\", status} as const)\r\nexport const addFigureAC = (x: number, y: number) => ({type: \"ADD-FIGURE\", x, y} as const)\r\nexport const deleteFigureAC = () => ({type: \"DELETE-FIGURE\"} as const)\r\nexport const chooseFigureAC = (figure: CanvasFigureType) => ({type: \"CHOOSE-FIGURE\", figure} as const)\r\nexport const setFiguresAC = (figures: Array<CanvasFigureType>) => ({type: \"SET-FIGURES\", figures} as const)\r\n\r\n\r\n//Types\r\ntype InitialStateType = {\r\n    figures: Array<FigureType>\r\n    draggableFigureId: string\r\n    copyStatus: boolean\r\n    canvasFigures: Array<CanvasFigureType>\r\n    chooseFigure: CanvasFigureType\r\n}\r\ntype ActionType = ReturnType<typeof dragStartedAC>\r\n                | ReturnType<typeof changeCanvasStatusAC>\r\n                | ReturnType<typeof changeCopyStatusAC>\r\n                | ReturnType<typeof addFigureAC>\r\n                | ReturnType<typeof deleteFigureAC>\r\n                | ReturnType<typeof chooseFigureAC>\r\n                | ReturnType<typeof setFiguresAC>\r\n\r\nexport type FigureType = {\r\n    id: string\r\n    isCanvas: boolean\r\n    style: {}\r\n}\r\n\r\nexport type CanvasFigureType = {\r\n    x: number\r\n    y: number\r\n    type: string\r\n    id: string\r\n}\r\n","import React from \"react\";\r\nimport {FigureType} from \"../../../../bll/figures-reducer\";\r\n\r\ntype FigurePropsType = {\r\n    figureData: FigureType\r\n    startDragging: (figureId: string) => void\r\n}\r\n\r\nexport const Figure: React.FC<FigurePropsType> = ({figureData, startDragging}) => {\r\n\r\n    const dragStartHandler = () => {\r\n        startDragging(figureData.id)\r\n    }\r\n\r\n    return (\r\n        <div draggable style={{display: \"flex\", flexDirection: \"column\"}}>\r\n            <div draggable style={figureData.style} onDragStart={dragStartHandler}>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {DragEvent} from \"react\";\r\nimport s from \"./FiguresField.module.css\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../bll/store\";\r\nimport {changeCanvasStatusAC, changeCopyStatusAC, dragStartedAC, FigureType} from \"../../../bll/figures-reducer\";\r\nimport {Figure} from \"./figure/Figure\";\r\n\r\nexport const FiguresField = () => {\r\n    //HOOK\r\n    const figures = useSelector<AppRootStateType, Array<FigureType>>(state => state.figures.figures)\r\n    const dispatch = useDispatch()\r\n\r\n    const startDragging = (figureId: string) => {\r\n        dispatch(dragStartedAC(figureId))\r\n    }\r\n\r\n    const changeCopyStatus = () => {\r\n        dispatch(changeCopyStatusAC(true))\r\n    }\r\n\r\n    const onDragOverHandler = (e: DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault()\r\n    }\r\n\r\n    const endDraggingFigure = (e: DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault()\r\n        dispatch(changeCanvasStatusAC())\r\n    }\r\n\r\n    return (\r\n        <div className={s.figuresField} onDragStart={changeCopyStatus} onDragOver={onDragOverHandler} onDrop={endDraggingFigure} >\r\n            <h1>Figures</h1>\r\n            {figures.map(item => <Figure key={item.id} figureData={item} startDragging={startDragging}/>)}\r\n        </div>\r\n    )\r\n}","import React, {DragEvent, useEffect, useRef, useState} from \"react\";\r\nimport s from \"../CanvasField.module.css\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../bll/store\";\r\nimport {addFigureAC, CanvasFigureType, chooseFigureAC, setFiguresAC} from \"../../../../bll/figures-reducer\";\r\n\r\nconst width = 730;\r\nconst height = 650;\r\n\r\nexport const Canvas = () => {\r\n    const figureWidth = 100;\r\n    const figureHeight = 100;\r\n\r\n    //HOOK\r\n    const canvasRef = useRef<any>(null)\r\n    const [mouseDown, setMouseDown] = useState(true)\r\n    const dispatch = useDispatch()\r\n    const canvasFigures = useSelector<AppRootStateType, Array<CanvasFigureType>>(state => state.figures.canvasFigures)\r\n    const chooseFigure = useSelector<AppRootStateType, CanvasFigureType>(state => state.figures.chooseFigure)\r\n    const copyStatus = useSelector<AppRootStateType, boolean>(state => state.figures.copyStatus)\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n        ctx.clearRect(0, 0, width, height)\r\n        ctx.beginPath()\r\n        canvasFigures.forEach(figure => {\r\n            if(figure.id !== chooseFigure.id) {\r\n                drawFigure(figure, ctx)\r\n            }\r\n        })\r\n    }, [canvasFigures, chooseFigure])\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n        if (chooseFigure) {\r\n            drawFigure(chooseFigure, ctx)\r\n        }\r\n    }, [chooseFigure, canvasFigures])\r\n\r\n\r\n\r\n    const drawFigure = (figure: CanvasFigureType, ctx: any) => {\r\n        ctx.lineWidth = 1;\r\n        if (figure.id === chooseFigure.id) {\r\n            ctx.lineWidth = 4\r\n        }\r\n        ctx.strokeStyle = 'black'\r\n        if (figure.type === \"square\") {\r\n\r\n            ctx.fillStyle = 'green'\r\n            ctx.fillRect(figure.x, figure.y, figureWidth, figureHeight)\r\n            ctx.strokeRect(figure.x, figure.y, figureWidth, figureHeight)\r\n            ctx.stroke()\r\n        }\r\n        if (figure.type === \"circle\") {\r\n            ctx.fillStyle = 'blue'\r\n            ctx.ellipse(\r\n                figure.x + figureWidth / 2,\r\n                figure.y + figureHeight / 2,\r\n                figureWidth / 2,\r\n                figureHeight / 2,\r\n                0,\r\n                0,\r\n                2 * Math.PI\r\n            )\r\n            ctx.fill()\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n        }\r\n\r\n    }\r\n    const cursorInFigure = (x: number, y: number, figure: CanvasFigureType) => x > figure.x && x < figure.x + figureWidth && y > figure.y && y < figure.y + figureHeight\r\n\r\n\r\n    const onDragOver = (e: DragEvent<HTMLCanvasElement>) => {\r\n        e.preventDefault()\r\n    }\r\n    const onMouseDown = (e: any) => {\r\n        e.stopPropagation()\r\n        const x = e.pageX - canvasRef.current.offsetLeft\r\n        const y = e.pageY - canvasRef.current.offsetTop\r\n\r\n        let isCursorOnAnyFigure = false\r\n        setMouseDown(true)\r\n        canvasFigures.forEach(figure => {\r\n            // @ts-ignore\r\n            if (cursorInFigure(x, y, figure)) {\r\n                dispatch(chooseFigureAC(figure))\r\n                isCursorOnAnyFigure = true;\r\n            }\r\n        })\r\n\r\n        if (!isCursorOnAnyFigure) {\r\n            dispatch(chooseFigureAC({} as CanvasFigureType))\r\n        }\r\n\r\n    }\r\n    const onMouseUp = () => {\r\n        setMouseDown(false)\r\n    }\r\n    const onMouseMove = (e: any) => {\r\n        e.stopPropagation()\r\n\r\n        const x = e.pageX - canvasRef.current.offsetLeft\r\n        const y = e.pageY - canvasRef.current.offsetTop\r\n\r\n        if (chooseFigure && mouseDown) {\r\n            dispatch(setFiguresAC(canvasFigures.map(figure => {\r\n                if (figure.id === chooseFigure.id) {\r\n                    figure.x = x - figureWidth / 2\r\n                    figure.y = y - figureHeight / 2\r\n                }\r\n                return figure\r\n            })))\r\n        }\r\n    }\r\n\r\n    const onDrop = (e: DragEvent<HTMLCanvasElement>) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        const x = e.pageX - canvasRef.current.offsetLeft - figureWidth / 2\r\n        const y = e.pageY - canvasRef.current.offsetTop - figureHeight / 2\r\n        if (copyStatus) {\r\n            dispatch(addFigureAC(x, y))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.canvasContainer}>\r\n            <canvas ref={canvasRef}\r\n                    onDragOver={onDragOver}\r\n                    onMouseDown={onMouseDown}\r\n                    onMouseUp={onMouseUp}\r\n                    onMouseMove={onMouseMove}\r\n                    onDrop={onDrop}\r\n                    width={width}\r\n                    height={height}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from \"./CanvasField.module.css\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {changeCopyStatusAC} from \"../../../bll/figures-reducer\";\r\nimport {Canvas} from \"./canvas/Canvas\";\r\n\r\nexport const CanvasField = () => {\r\n\r\n    //HOOK\r\n    const dispatch = useDispatch()\r\n\r\n    const changeStatusHandler = () => {\r\n        dispatch(changeCopyStatusAC(false))\r\n    }\r\n\r\n    return (\r\n        <div className={s.canvasField} onDragStart={changeStatusHandler}>\r\n            <h1>Canvas</h1>\r\n            <Canvas/>\r\n        </div>\r\n    )\r\n}","import React, {DragEvent} from 'react';\nimport s from './App.module.css';\nimport { FiguresField } from './components/figuresField/FiguresField';\nimport {CanvasField} from \"./components/canvasField/CanvasField\";\nimport {useDispatch} from \"react-redux\";\nimport {deleteFigureAC} from \"../bll/figures-reducer\";\n\nfunction App() {\n    //HOOK\n    const dispatch = useDispatch()\n\n    const onDragOverHandler = (e: DragEvent<HTMLDivElement>) => {\n        e.preventDefault()\n    }\n    const deleteCanvasFigure = () => {\n        dispatch(deleteFigureAC())\n    }\n\n  return (\n    <div className={s.app} onDragOver={onDragOverHandler}>\n        <div className={s.fieldsContainer}>\n            <FiguresField/>\n            <CanvasField/>\n        </div>\n        <div className={s.buttonContainer}>\n            <button onClick={deleteCanvasFigure}>Delete Figure</button>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers, createStore} from \"redux\";\r\nimport {figuresReducer} from \"./figures-reducer\";\r\nimport {loadState, saveState} from \"./utils/localStorage-utils\";\r\n\r\nconst rootReducer = combineReducers({\r\n    figures: figuresReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, loadState())\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\nstore.subscribe( () => {\r\n    saveState({\r\n        figures: store.getState().figures\r\n    })\r\n})\r\n\r\n// @ts-ignore\r\nwindow.store = store;","import { AppRootStateType } from \"../store\";\r\n\r\nexport const loadState = () => {\r\n    try {\r\n        const serializedState = localStorage.getItem('state');\r\n        if (serializedState === null) {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch (err) {\r\n        return undefined;\r\n    }\r\n};\r\n\r\nexport const saveState = (state: AppRootStateType) => {\r\n    try {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedState);\r\n    } catch {\r\n        // ignore write errors\r\n    }\r\n} ;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './ui/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./bll/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasField\":\"CanvasField_canvasField__4DhHx\",\"canvasContainer\":\"CanvasField_canvasContainer__3B7n7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Sw4P\",\"fieldsContainer\":\"App_fieldsContainer__2qJaf\",\"buttonContainer\":\"App_buttonContainer__15oyy\"};"],"sourceRoot":""}